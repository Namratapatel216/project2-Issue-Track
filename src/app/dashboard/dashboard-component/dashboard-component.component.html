<div class="wrapper">
  <header class="main-header">
    <a href="../../index2.html" class="logo">
      <span class="logo-mini"><b>A</b>LT</span>
      <span class="logo-lg"><b>Issue</b>Track</span>
    </a>
    <nav class="navbar navbar-static-top">
      <a href="#" class="sidebar-toggle" data-toggle="push-menu" role="button">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </a>
      <div class="navbar-custom-menu">
        <ul class="nav navbar-nav" style="width: auto !important;">
          <li class="dropdown notifications-menu" style="width: auto !important;">
            <a href="#" class="dropdown-toggle" data-toggle="dropdown">
              <i class="fa fa-bell-o"></i>
              <span class="label label-warning">{{Notifications.length}}</span>
            </a>
            <ul class="dropdown-menu" style="width: auto !important;">
              <li class="header">You have {{Notifications.length}} notifications</li>
              <li>
                <ul class="menu" style="width: auto !important;">
                  <li style="width: auto !important;" *ngFor="let single_notify of Notifications"
                    id="notification_clicked_{{single_notify.Notification_link}}">
                    <a href="javascript:void(0);"
                      (click)="Notification_clicked(single_notify.NotificationId,single_notify.Notification_link,single_notify.Notification_watched_by)">
                      <i class="fa fa-users text-aqua"></i>{{single_notify.Notification_data}}
                    </a>
                  </li>
                </ul>
              </li>
            </ul>
          </li>
          <li class="dropdown user user-menu">
            <a href="#" class="dropdown-toggle" data-toggle="dropdown">
              <span class="">{{Issue_Track_UserName}}</span>
            </a>
            <ul class="dropdown-menu">
              <li>
                <a href="javascript:void(0);" (click)="edit_profile()"
                  class="btn btn-default btn-flat User-profile-btn">Edit Profile</a>
              </li>
              <li>
                <a href="javascript:void(0);" (click)="change_password()"
                  class="btn btn-default btn-flat User-profile-btn">Change Password</a>
              </li>
              <li>
                <a href="javascript:void(0);" (click)="logout()" class="btn btn-default btn-flat User-profile-btn">Sign
                  out</a>
              </li>
            </ul>
          </li>
        </ul>
      </div>
    </nav>
  </header>
  <aside class="main-sidebar">
    <section class="sidebar">
      <div class="user-panel">
        <div class="pull-left image"
          *ngIf="Issue_Track_socialPlatform == 'google' || Issue_Track_socialPlatform == 'facebook'">
          <img src="{{Issue_Track_provider_pic}}" class="img-circle" alt="User Image">
        </div>
        <div class="pull-left image" *ngIf="Issue_Track_socialPlatform == 'normal'">
          <img src="http://npatelproject.site/assets/img/empty_avatar.jpg" class="img-circle" alt="User Image">
        </div>
        <div class="pull-left info" style="height:auto;">
          <p>{{Issue_Track_UserName}}</p>
          <!-- <a href="#"><i class="fa fa-circle text-success"></i> Online</a> -->
        </div>
      </div>
      <ul class="sidebar-menu" data-widget="tree">
        <li class="" [ngClass]="{'active': view_dashboard == 'open_issues'}">
          <a href="javascript:void(0);" (click)="change_view_to('open_issues')">
            <i class="fa fa-th"></i> <span>My Open Issues</span>
          </a>
        </li>
        <li class="" [ngClass]="{'active': view_dashboard == 'issues_assign_to_me'}">
          <a href="javascript:void(0);" (click)="change_view_to('issues_assign_to_me')">
            <i class="fa fa-th"></i> <span>Assign to me</span>
          </a>
        </li>
        <li class="" [ngClass]="{'active': view_dashboard == 'all_issues'}">
          <a href="javascript:void(0);" (click)="change_view_to('all_issues')">
            <i class="fa fa-th"></i> <span>All Issues</span>
          </a>
        </li>
        <!-- <li class="" [ngClass]="{'active': view_dashboard == 'all_open_issues'}">
          <a href="javascript:void(0);" (click)="change_view_to('all_open_issues')">
            <i class="fa fa-th"></i> <span>open Issues</span>
          </a>
        </li>
        <li class="" [ngClass]="{'active': view_dashboard == 'done_issues'}">
          <a href="javascript:void(0);" (click)="change_view_to('done_issues')">
            <i class="fa fa-th"></i> <span>Done Issues</span> 
          </a>
        </li> -->
        <li>
          <a href="javascript:void(0);" (click)="create()">
            <i class="fa fa-th"></i> <span>Create Issue</span>
          </a>
        </li>

      </ul>
    </section>
  </aside>
  <div class="content-wrapper">
    <section class="content-header">
      <h1>
        {{view_dashboard_header}}
      </h1>
    </section>
    <div class="btn-toolbar mb-2 mb-md-0">
      <div class="col-xs-12 col-md-12" style="margin-top: 1% !important;margin-bottom: 1% !important;">
        <div class="col-xs-12 col-md-4 col-sm-12">
          <div class="input-group">
            <input type="text" [(ngModel)]="SearchText" class="form-control" placeholder="Search" id="txtSearch" />
            <div class="input-group-btn">
              <button class="btn btn-primary" type="submit">
                <span class="glyphicon glyphicon-search"></span>
              </button>
            </div>
          </div>
        </div>
        <div class="col-xs-12 col-md-2 col-sm-12">
          <select [(ngModel)]="statusFilter.issue_status" class="form-control">
            <option [value]="default" selected>Filter By Status</option>
            <option>In Backlog</option>
            <option>In Progress</option>
            <option>In Test</option>
            <option>Done</option>
          </select>
        </div>
        <div class="col-xs-12 col-md-2 col-sm-12">
          <select [(ngModel)]="FilterReporter" class="form-control">
            <option [value]="default">Filter By Reporter</option>
            <option *ngFor="let all_users_data of all_users_list" [value]="all_users_data.userId">
              {{all_users_data.userName}}</option>
          </select>
        </div>
      </div>
    </div>
    <section class="content">
      <div class="row">
        <div class="col-md-12">
          <div class="box box-primary">
            <div class="box-body pad table-responsive">
              <table class="table table-bordered text-center table-striped" border="1px solid" *ngIf="this.view_dashboard == 'issues_assign_to_me'">
                <thead class="thead-dark">
                  <tr>
                    <th [class.active]="order === 'issue_title'" (click)="setOrder('issue_title')">Issue Title <span
                        [hidden]="reverse">▼</span><span [hidden]="!reverse">▲</span></th>
                    <th [class.active]="order === 'issue_status'" (click)="setOrder('issue_status')">Status <span
                        [hidden]="reverse">▼</span><span [hidden]="!reverse">▲</span></th>
                    <th [class.active]="order === 'issue_reporter_name'" (click)="setOrder('issue_reporter_name')">
                      Reporter <span [hidden]="reverse">▼</span><span [hidden]="!reverse">▲</span></th>
                    <th [class.active]="order === 'issue_posted_date'" (click)="setOrder('issue_posted_date')">Date
                      <span [hidden]="reverse">▼</span><span [hidden]="!reverse">▲</span></th>
                  </tr>
                </thead>
                <tr
                  *ngFor="let all_issues of Issues | orderBy: order:reverse:'case-insensitive' | filterBy : statusFilter | filter : SearchText | paginate: { itemsPerPage: 10, currentPage: p }">
                  <td>
                    <a herf="javascript:void(0);" [routerLink]="['/Issue',all_issues.issueId]"
                      style="cursor: pointer">{{all_issues['issue_title']}}</a>
                  </td>
                  <td>
                    <a herf="javascript:void(0);" [routerLink]="['/Issue',all_issues.issueId]"
                      style="cursor: pointer">{{all_issues['issue_status']}}</a>
                  </td>
                  <td>
                    <a herf="javascript:void(0);" [routerLink]="['/Issue',all_issues.issueId]"
                      style="cursor: pointer">{{all_issues['issue_reporter_name']}}</a>
                  </td>
                  <td>
                    <a herf="javascript:void(0);" [routerLink]="['/Issue',all_issues.issueId]"
                      style="cursor: pointer">{{all_issues['issue_posted_date']}}</a>
                  </td>
                </tr>
              </table>

              <table class="table table-bordered text-center table-striped" border="1px solid" *ngIf="this.view_dashboard == 'open_issues'">
                <thead class="thead-dark">
                  <tr>
                    <th [class.active]="order === 'issue_title'" (click)="setOrder('issue_title')">Issue Title <span
                        [hidden]="reverse">▼</span><span [hidden]="!reverse">▲</span></th>
                    <th [class.active]="order === 'issue_status'" (click)="setOrder('issue_status')">Status <span
                        [hidden]="reverse">▼</span><span [hidden]="!reverse">▲</span></th>
                    <th [class.active]="order === 'issue_assignee_name'" (click)="setOrder('issue_assignee_name')">
                      Assignee <span [hidden]="reverse">▼</span><span [hidden]="!reverse">▲</span></th>
                    <th [class.active]="order === 'issue_posted_date'" (click)="setOrder('issue_posted_date')">Date
                      <span [hidden]="reverse">▼</span><span [hidden]="!reverse">▲</span></th>
                  </tr>
                </thead>
                <tr
                  *ngFor="let all_issues of Issues | orderBy: order:reverse:'case-insensitive' | filterBy : statusFilter | filter : SearchText | paginate: { itemsPerPage: 10, currentPage: p }">
                  <td>
                    <a herf="javascript:void(0);" [routerLink]="['/Issue',all_issues.issueId]"
                      style="cursor: pointer">{{all_issues['issue_title']}}</a>
                  </td>
                  <td>
                    <a herf="javascript:void(0);" [routerLink]="['/Issue',all_issues.issueId]"
                      style="cursor: pointer">{{all_issues['issue_status']}}</a>
                  </td>
                  <td>
                    <a herf="javascript:void(0);" [routerLink]="['/Issue',all_issues.issueId]"
                      style="cursor: pointer">{{all_issues['issue_assignee_name']}}</a>
                  </td>
                  <td>
                    <a herf="javascript:void(0);" [routerLink]="['/Issue',all_issues.issueId]"
                      style="cursor: pointer">{{all_issues['issue_posted_date']}}</a>
                  </td>
                </tr>
              </table>


              <table class="table table-bordered text-center table-striped" border="1px solid" *ngIf="this.view_dashboard == 'all_issues'">
                <thead class="thead-dark">
                  <tr>
                    <th [class.active]="order === 'issue_title'" (click)="setOrder('issue_title')">Issue Title <span
                        [hidden]="reverse">▼</span><span [hidden]="!reverse">▲</span></th>
                    <th [class.active]="order === 'issue_status'" (click)="setOrder('issue_status')">Status <span
                        [hidden]="reverse">▼</span><span [hidden]="!reverse">▲</span></th>
                    <th [class.active]="order === 'issue_reporter_name'" (click)="setOrder('issue_reporter_name')">
                      Reporter <span [hidden]="reverse">▼</span><span [hidden]="!reverse">▲</span></th>
                    <th [class.active]="order === 'issue_assignee_name'" (click)="setOrder('issue_assignee_name')">
                        Assignee <span [hidden]="reverse">▼</span><span [hidden]="!reverse">▲</span></th>
                    <th [class.active]="order === 'issue_posted_date'" (click)="setOrder('issue_posted_date')">Date
                      <span [hidden]="reverse">▼</span><span [hidden]="!reverse">▲</span></th>
                  </tr>
                </thead>
                <tr
                  *ngFor="let all_issues of Issues | orderBy: order:reverse:'case-insensitive' | filterBy : statusFilter | filter : SearchText | paginate: { itemsPerPage: 10, currentPage: p }">
                  <td>
                    <a herf="javascript:void(0);" [routerLink]="['/Issue',all_issues.issueId]"
                      style="cursor: pointer">{{all_issues['issue_title']}}</a>
                  </td>
                  <td>
                    <a herf="javascript:void(0);" [routerLink]="['/Issue',all_issues.issueId]"
                      style="cursor: pointer">{{all_issues['issue_status']}}</a>
                  </td>
                  <td>
                    <a herf="javascript:void(0);" [routerLink]="['/Issue',all_issues.issueId]"
                      style="cursor: pointer">{{all_issues['issue_reporter_name']}}</a>
                  </td>
                  <td>
                    <a herf="javascript:void(0);" [routerLink]="['/Issue',all_issues.issueId]"
                      style="cursor: pointer">{{all_issues['issue_assignee_name']}}</a>
                  </td>
                  <td>
                    <a herf="javascript:void(0);" [routerLink]="['/Issue',all_issues.issueId]"
                      style="cursor: pointer">{{all_issues['issue_posted_date']}}</a>
                  </td>
                </tr>
              </table>
              <div style="margin-top:2% !important;">
                <pagination-controls (pageChange)="p = $event" directionLinks="true" autoHide="true" responsive="true"
                  previousLabel="Previous" nextLabel="Next" screenReaderPaginationLabel="Pagination"
                  screenReaderPageLabel="page" screenReaderCurrentLabel="You're on page"></pagination-controls>
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>
  </div>
  <!-- Control Sidebar -->
  <aside class="control-sidebar control-sidebar-dark">
    <ul class="nav nav-tabs nav-justified control-sidebar-tabs">
      <li><a href="#control-sidebar-home-tab" data-toggle="tab"><i class="fa fa-home"></i></a></li>
      <li><a href="#control-sidebar-settings-tab" data-toggle="tab"><i class="fa fa-gears"></i></a></li>
    </ul>
    <div class="tab-content">
      <div class="tab-pane" id="control-sidebar-home-tab">
        <h3 class="control-sidebar-heading">Recent Activity</h3>
        <ul class="control-sidebar-menu">
          <li>
            <a href="javascript:void(0)">
              <i class="menu-icon fa fa-birthday-cake bg-red"></i>
              <div class="menu-info">
                <h4 class="control-sidebar-subheading">Langdon's Birthday</h4>
                <p>Will be 23 on April 24th</p>
              </div>
            </a>
          </li>
          <li>
            <a href="javascript:void(0)">
              <i class="menu-icon fa fa-user bg-yellow"></i>
              <div class="menu-info">
                <h4 class="control-sidebar-subheading">Frodo Updated His Profile</h4>
                <p>New phone +1(800)555-1234</p>
              </div>
            </a>
          </li>
          <li>
            <a href="javascript:void(0)">
              <i class="menu-icon fa fa-envelope-o bg-light-blue"></i>
              <div class="menu-info">
                <h4 class="control-sidebar-subheading">Nora Joined Mailing List</h4>
                <p>nora@example.com</p>
              </div>
            </a>
          </li>
          <li>
            <a href="javascript:void(0)">
              <i class="menu-icon fa fa-file-code-o bg-green"></i>
              <div class="menu-info">
                <h4 class="control-sidebar-subheading">Cron Job 254 Executed</h4>
                <p>Execution time 5 seconds</p>
              </div>
            </a>
          </li>
        </ul>
        <h3 class="control-sidebar-heading">Tasks Progress</h3>
        <ul class="control-sidebar-menu">
          <li>
            <a href="javascript:void(0)">
              <h4 class="control-sidebar-subheading">
                Custom Template Design
                <span class="label label-danger pull-right">70%</span>
              </h4>
              <div class="progress progress-xxs">
                <div class="progress-bar progress-bar-danger" style="width: 70%"></div>
              </div>
            </a>
          </li>
          <li>
            <a href="javascript:void(0)">
              <h4 class="control-sidebar-subheading">
                Update Resume
                <span class="label label-success pull-right">95%</span>
              </h4>
              <div class="progress progress-xxs">
                <div class="progress-bar progress-bar-success" style="width: 95%"></div>
              </div>
            </a>
          </li>
          <li>
            <a href="javascript:void(0)">
              <h4 class="control-sidebar-subheading">
                Laravel Integration
                <span class="label label-warning pull-right">50%</span>
              </h4>
              <div class="progress progress-xxs">
                <div class="progress-bar progress-bar-warning" style="width: 50%"></div>
              </div>
            </a>
          </li>
          <li>
            <a href="javascript:void(0)">
              <h4 class="control-sidebar-subheading">
                Back End Framework
                <span class="label label-primary pull-right">68%</span>
              </h4>
              <div class="progress progress-xxs">
                <div class="progress-bar progress-bar-primary" style="width: 68%"></div>
              </div>
            </a>
          </li>
        </ul>
      </div>
      <div class="tab-pane" id="control-sidebar-stats-tab">Stats Tab Content</div>
      <div class="tab-pane" id="control-sidebar-settings-tab">
        <form method="post">
          <h3 class="control-sidebar-heading">General Settings</h3>
          <div class="form-group">
            <label class="control-sidebar-subheading">
              Report panel usage
              <input type="checkbox" class="pull-right" checked>
            </label>
            <p>
              Some information about this general settings option
            </p>
          </div>
          <div class="form-group">
            <label class="control-sidebar-subheading">
              Allow mail redirect
              <input type="checkbox" class="pull-right" checked>
            </label>
            <p>
              Other sets of options are available
            </p>
          </div>
          <div class="form-group">
            <label class="control-sidebar-subheading">
              Expose author name in posts
              <input type="checkbox" class="pull-right" checked>
            </label>
            <p>
              Allow the user to show his name in blog posts
            </p>
          </div>
          <h3 class="control-sidebar-heading">Chat Settings</h3>
          <div class="form-group">
            <label class="control-sidebar-subheading">
              Show me as online
              <input type="checkbox" class="pull-right" checked>
            </label>
          </div>
          <div class="form-group">
            <label class="control-sidebar-subheading">
              Turn off notifications
              <input type="checkbox" class="pull-right">
            </label>
          </div>
          <div class="form-group">
            <label class="control-sidebar-subheading">
              Delete chat history
              <a href="javascript:void(0)" class="text-red pull-right"><i class="fa fa-trash-o"></i></a>
            </label>
          </div>
        </form>
      </div>
    </div>
  </aside>
  <div class="control-sidebar-bg"></div>
</div>
<ngx-smart-modal data-backdrop="static" data-keyboard="false" #popuptwo [identifier]="'popuptwo'"
  customClass="msg-modal">
  <div>
    <div class="cretae_issue_header">
      <h2>Create Issue</h2>
    </div>
    <input type="hidden" name="issue_reporter" [(ngModel)]="Issue_Track_UserId">
    <input type="hidden" name="issue_reporter_name" [(ngModel)]="Issue_Track_UserName">
    <hr>
    <form #issue_creation_form="ngForm" (ngSubmit)="create_iss_ue(); issue_creation_form.reset();"
      style="padding: 3% !important;">
      <div class="form-group">
        <label for="exampleInputEmail1">Title</label>
        <input type="text" class="form-control" name="issue_title" [(ngModel)]="issue_title" #i_title="ngModel"
          id="I_Title" placeholder="Please Enter Issue Title">
        <div style="display: none;margin-top: 1%" id="Issue_title_validation" class="alert alert-danger" role="alert">
          The Username contains illegal characters.
        </div>
      </div>
      <div class="form-group">
        <label for="exampleInputPassword1">Description</label>
        <app-ngx-editor [placeholder]="'Enter text here...'" [height]="'200px'" [minHeight]="'50px'" [spellcheck]="true"
          [(ngModel)]="issue_description" name="issue_description" #i_desc="ngModel"></app-ngx-editor>
      </div>
      <div class="form-group">
        <label for="exampleInputFile">Attachment</label>
        <input type="file" name="attachments" [(ngModel)]="attachments" #i_attachments="ngModel" id="is_attcah"
          (change)="OnFileSelected($event)">
        <img src="" id="blah" style="display:none;height:100px;width:100px;">
      </div>
      <div class="form-group">
        <label for="exampleInputFile">Assignee</label>
        <select class="form-control" name="assignee" [(ngModel)]="assignee" #i_assignee="ngModel">
          <option [value]="default">Please Select Assignee</option>
          <option *ngFor="let all_users_data of all_users_list" [value]="all_users_data.userId"
            id="{{all_users_data.userId}}">{{all_users_data.userName}}</option>
        </select>
      </div>
      <div class="loader" id="loader"></div>
      <button id="issue_submission_btn" type="submit" class="btn btn-primary" style="margin-top : 2% !important;">Create
        Issue</button>
    </form>
    <button (click)="popuptwo.close()" style="display: none;" id="close_btn_creation_isssue">Close</button>
  </div>
</ngx-smart-modal>